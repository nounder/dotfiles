#!/bin/sh

FORK_HX=~/Repos/helix-inline-completion/target/release/hx

if [ -x "$FORK_HX" ]; then
    exec "$FORK_HX" "$@"
else
    # Find next hx in PATH, skipping this script
    THIS_DIR=$(dirname "$(readlink -f "$0")")
    for dir in $(echo "$PATH" | tr ':' '\n'); do
        if [ "$dir" != "$THIS_DIR" ] && [ -x "$dir/hx" ]; then
            exec "$dir/hx" "$@"
        fi
    done
    echo "hx: command not found" >&2
    exit 127
fi
